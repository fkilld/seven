{% extends "base.html" %}
{% block title %}{{profile_user.username}}{% endblock title %}

{% block content %}
<h2>{{profile_user.username}}</h2>
<div class='profile_info'>
<p><strong>name: </strong> {{profile_user.first_name}} {{profile_user.last_name}}</p>
<p><strong>username: </strong> {{profile_user.username}}</p>
<p><strong>email: </strong> {{profile_user.email}}</p>
<p><strong>joined: </strong> {{profile_user.date_joined|date:"F d, Y"}}</p>

{% if profile_user.profile.bio %}
<p><strong>bio: </strong> {{profile_user.profile.bio}}</p>
{% endif %}
{% if profile_user.profile.location %}
<p><strong>location: </strong> {{profile_user.profile.location}}</p>
{% endif %}
{% if profile_user.profile.birth_date %}
<p><strong>birth_date: </strong> {{profile_user.profile.birth_date}}</p>
{% endif %}
{% if profile_user.profile.website %}
<p><strong>website: </strong> {{profile_user.profile.website}}</p>
{% endif %}
{% if profile_user.profile.avatar %}
<p><strong>avatar: </strong> <img src="{{profile_user.profile.avatar.url}}" alt="avatar" width="150"></p>
{% endif %}
</div>


<h3>{{ profile_user.username }}'s Blog Posts</h3>

{% if blogs %}
    {% for blog in blogs %}
        <article>
            <h4><a href="{% url 'blog_detail' blog.pk %}">{{ blog.title }}</a></h4>
            <p><strong>Category:</strong>
                {% if blog.category %}
                    <a href="{% url 'category_detail' blog.category.pk %}">{{ blog.category.name }}</a>
                {% else %}
                    Uncategorized
                {% endif %}
            </p>
            <p><strong>Published:</strong> {{ blog.created_at|date:"F d, Y" }}</p>
            <p><strong>Views:</strong> {{ blog.views }}</p>
            <p>{{ blog.content|truncatewords:30 }}</p>
            <p><a href="{% url 'blog_detail' blog.pk %}">Read More...</a></p>
        </article>
        <hr>
    {% endfor %}
{% else %}
    <p>{{ profile_user.username }} hasn't published any blog posts yet.</p>
{% endif %}
{% endblock %}